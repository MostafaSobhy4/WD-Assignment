{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <link rel="stylesheet" href="{% static 'Css/styles.css' %}">
    <link rel="stylesheet" href="{% static 'Css/normalize.css' %}">
    <link rel="stylesheet" href="{% static 'Css/all.min.css' %}">
</head>

<body>
<!-- Navigation Bar Teacher -->
<div class="navbar">
    <a href="{% url 'teacher_dashboard' teacher.teacher_id %}">
        <i class="fa-solid fa-school"></i>
        School Task
    </a>
    <a href="{% url 'teacher_dashboard' teacher.teacher_id %}">Home</a>
    <a href="{% url 'teacher_dashboard' teacher.teacher_id %}">Dashboard</a>
    <a href="{% url 'assigned_tasks' teacher.teacher_id %}">View tasks</a>
    <a href="{% url 'completed_tasks' teacher.teacher_id %}">Completed tasks</a>
    <a href="{% url 'teacher_tasks' teacher.teacher_id %}">Search Task</a>

    <div class="navbar-right"> 
        <p id="welcome-message"></p>
        <a href="{% url 'login' %}">Logout</a>
    </div>
</div>

<div class="container">
    <h1>Assigned Tasks</h1>
    <p>Here are your current assigned tasks. Click "Details" to view more information.</p>

    <div class="task-list">
        <table>
            <thead>
            <tr>
                <th>ID</th>
                <th>Task Title</th>
                <th>Priority</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody class="view-assigned-tasks-js">
                
                {% for task in tasks %}
                    <tr>
                        <td>{{ task.task_id }}</td>
                        <td>{{ task.taskTitle }}</td>
                        <td>
                            <span class="priority priority-{{ task.taskPriority|lower }}">
                                {{ task.taskPriority }}
                            </span>
                        </td>
                        <td>
                            <span class="status status-{% if task.isCompleted %}completed{% else %}pending{% endif %}">
                                {% if task.isCompleted %}Completed{% else %}Pending{% endif %}
                            </span>
                        </td>
                        <td>
                            <a class="btn btn-details btn-details-js" data-task-id="{{ task.task_id }}" href="{% url 'task_details' teacher.teacher_id task.task_id %}">Details</a>
                        </td>
                    </tr>
                    {% empty %}
                    <tr><td colspan="5">No tasks found.</td></tr>
                    {% endfor %}
            
            </tbody>
        </table>
    </div>
</div>

</body>
</html>
